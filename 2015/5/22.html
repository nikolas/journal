<!doctype html>
<html>
<head>
  <title>Friday, May 22</title>
  <link href='http://fonts.googleapis.com/css?family=Lora:400,700' rel='stylesheet' type='text/css'>
  <link rel="stylesheet" href="../../journal.css" type="text/css" />
</head>
<body>
  <header>
    <h1>Friday, May 22</h1>
  </header>

  <p>
    I was able to remove a bunch of the code that was causing
    problems in <a href="15.html">my last entry</a>. We decided
    to simplify the UI for the participant sign-in form in our
    Worth sprint this week. I wish we decided it sooner &ndash;
    maybe I should've proposed a change in the beginning.
  </p>

  <p>
    Learning how to write tests in
    <a href="https://pythonhosted.org/behave/">behave</a> has been fun,
    mainly because, with the selenium drivers we're using, I'm finally
    testing the complete Worth application, including all of its
    JavaScript code.
  </p>

  <p>
    So far, I feel like the
    <a href="https://github.com/cucumber/cucumber/wiki/Gherkin">gherkin</a>
    syntax is a little awkward. I don't know if it makes sense
    to expect these tests to ever be written by someone not familiar with
    the application code &ndash; they are just too idiosyncratic.
  </p>

  <p>
    However, ultimately it does give a nicely readable account of the
    process of testing the intervention:
  </p>

  <pre>
    Scenario: Session 2
      When I access the url "/pages/session-2/"
      When I click the next button
      Then I am at the url "/pages/session-2/welcome-to-session-2/"
      Then I see the text "Welcome to Session 2"

      When I click the next button
      Then I am at the url "/pages/session-2/i-am-worth-it/"
      Then I see the text "I am WORTH It!"

      When I click the submit button
      Then I see the text "Oops!"

      When I select the first quiz option
      When I click the submit button
      Then I am at the url "/pages/session-2/ground-rules/"
  </pre>

  <p>
    <small>
      From
      <a href="https://github.com/ccnmtl/worth2/blob/master/bdd_tests/features/intervention.feature">intervention.feature</a>
    </small>
  </p>

  <p>
    At <a href="https://to.be">to.be</a> I used the "describe/it" syntax,
    which is also considered "behavior-driven development", and is common
    in
    <a href="http://rspec.info/documentation/3.2/rspec-core/#basic_structure"
       >rspec</a> (Ruby)
    and <a href="http://mochajs.org/#getting-started">mocha</a> (JS).
  </p>

  <footer>
    <a href="../../">&larr;</a>
  </footer>
</body>
</html>
